spring:
  application:
    name: marketdata-service

  cloud:
    compatibility-verifier:
      enabled: false

  threads:
    virtual:
      enabled: true

  profiles:
    active: dev

server:
  port: 8082

# TastyTrade API Configuration
tastytrade:
  # OAuth 2.0 Credentials (load from .env file or environment variables)
  client-id: ${TT_CLIENT_ID}
  client-secret: ${TT_CLIENT_SECRET}
  refresh-token: ${TT_REFRESH_TOKEN}
  account-number: ${TASTYTRADE_ACCOUNT_NUMBER}

  # Production API URL
  api-base-url: https://api.tastytrade.com

  # DxLink WebSocket URL (Production by default)
  # Default: Production wss://tasty.dxfeed.com/realtime
  # For testing: wss://demo.dxfeed.com/dxlink-ws
  dxlink-url: ${DXLINK_URL:wss://tasty.dxfeed.com/realtime}

  # DxLink WebSocket Configuration
  dxlink:
    keepalive-interval: 30000
    connection-timeout: 10000
    accept-data-format: COMPACT

  # Token Refresh Configuration
  token-refresh:
    enabled: true
    fixed-rate-hours: 23

# Actuator for health checks
management:
  endpoints:
    web:
      exposure:
        include: health,info
  endpoint:
    health:
      show-details: always
